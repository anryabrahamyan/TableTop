{% extends "base.html" %}
{% block content %}
<div class="game-detail-container">
    <div>
        <img src="{{ game.image_url }}" alt="{{ game.title }}" onerror="this.src='https://via.placeholder.com/400x400?text=No+Image'" style="width: 100%; border-radius: 12px;">
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.75rem; margin-top: 1.5rem;">
            {% for img in game.full_data.gallery[:4] %}
            <img src="{{ img }}" alt="Gallery image" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; transition: transform 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            {% endfor %}
        </div>
    </div>

    <div>
        <h1>{{ game.title }}</h1>
        <p class="price">{{ game.price }}</p>
        
        {% if game.full_data.details %}
        <div class="detail-section">
            <h3>ğŸ“‹ Game Details</h3>
            <ul style="list-style: none;">
                {% for key, value in game.full_data.details.items() %}
                <li style="padding: 0.5rem 0;"><strong>{{ key }}:</strong> {{ value }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% if game.full_data.package %}
        <div class="detail-section">
            <h3>ğŸ“¦ Package Contents</h3>
            <p style="white-space: pre-wrap; font-size: 0.95rem;">{{ game.full_data.package }}</p>
        </div>
        {% endif %}

        {% if game.full_data.description %}
        <div class="detail-section">
            <h3>ğŸ“œ Description</h3>
            <p style="line-height: 1.8;">{{ game.full_data.description[:800] }}{% if game.full_data.description|length > 800 %}...{% endif %}</p>
        </div>
        {% endif %}
        
        <div style="margin-top: 2rem; display: flex; gap: 1rem;">
            <button class="btn btn-success" style="flex: 1; padding: 1rem;">ğŸ® Start LFG Session</button>
            <a href="{{ url_for('library') }}" class="btn" style="flex: 1; padding: 1rem; text-align: center;">â† Back to Library</a>
        </div>
    </div>
</div>
{% endblock %}